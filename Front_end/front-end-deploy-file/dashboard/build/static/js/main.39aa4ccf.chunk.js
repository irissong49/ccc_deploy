(this["webpackJsonpmy-dashboard"]=this["webpackJsonpmy-dashboard"]||[]).push([[0],{110:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(51),c=a.n(i),s=(a(110),a(11)),l=a(20),o=a.n(l),d=a(6),b=a(33),j=a(14),h=a(12),u=a(4),f=a(5),O=a(8),p=a(7),x=a(32),v=a(2),k=function(e){Object(O.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r}return Object(f.a)(a,[{key:"componentDidUpdate",value:function(){this.myChart.data.labels=this.props.label,this.myChart.data.datasets[2].data=this.props.value,this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new x.a(this.chartRef.current,{data:{labels:this.props.label,datasets:[{type:"line",label:"Diabetes per 10k population",backgroundColor:"#003f5c",yAxisID:"B",data:[12.91,15.4,6.42,20.29,9.53]},{type:"line",label:"Obisity (%) among adults",backgroundColor:"#ff6361",yAxisID:"B",data:[20.71,18.64,19.52,18.37,16.85]},{type:"bar",label:"Average food mentioned per 10000 tweets",backgroundColor:"rgba(75,192,192,1)",yAxisID:"A",data:this.props.value}]},options:{maintainAspectRatio:!1,responsive:!0,scales:{A:{type:"linear",position:"left",title:"# tweets",gridLines:{color:"rgba(0, 0, 0, 0)"}},B:{type:"linear",position:"right",grid:{display:!1}}},plugins:{title:{display:!0,text:"Average food mentioned per 10000 tweets for each city",fontSize:20},legend:{display:!0,position:"top"}}}})}},{key:"render",value:function(){return Object(v.jsx)("canvas",{ref:this.chartRef})}}]),a}(n.a.Component),m=function(e){Object(O.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r}return Object(f.a)(a,[{key:"componentDidUpdate",value:function(){this.myChart.data.labels=this.props.data.labels;var e,t=Object(d.a)(this.props.data.datasets.entries());try{for(t.s();!(e=t.n()).done;){var a=Object(h.a)(e.value,2),r=a[0],n=a[1];this.myChart.data.datasets[r].label=n.label,this.myChart.data.datasets[r].data=n.data,this.myChart.data.datasets[r].backgroundColor=n.backgroundColor}}catch(i){t.e(i)}finally{t.f()}this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new x.a(this.chartRef.current,{type:"bar",data:this.props.data,options:{maintainAspectRatio:!1,responsive:!0,plugins:{title:{display:!0,text:"Average food mentioned per 10000 tweets in each city",fontSize:20},legend:{display:!0,position:"top"}}}})}},{key:"render",value:function(){return Object(v.jsx)("canvas",{ref:this.chartRef})}}]),a}(n.a.Component),g=function(e){var t=e.type,a=e.cityData,r=e.data;return"data"===t?Object(v.jsx)(m,{data:r}):Object(v.jsx)(k,{label:Object.keys(a),value:Object.values(a)})},y=a(34),w=a(17),C=function(e){var t=e.startStream,a=e.stopStream;return Object(v.jsxs)("div",{className:"menu",children:[Object(v.jsx)(y.b,{to:"/",children:Object(v.jsxs)("button",{className:"button",children:[Object(v.jsx)(w.c,{})," Home"]})}),Object(v.jsx)(y.b,{to:"/about",children:Object(v.jsxs)("button",{className:"button",children:[Object(v.jsx)(w.d,{})," About"]})}),Object(v.jsx)(y.b,{to:"/wiki",children:Object(v.jsxs)("button",{className:"button",children:[Object(v.jsx)(w.h,{})," Food Wiki"]})}),Object(v.jsxs)("button",{onClick:t,className:"button",children:[Object(v.jsx)(w.e,{})," Start Streaming"]}),Object(v.jsxs)("button",{onClick:a,className:"button",children:[Object(v.jsx)(w.g,{})," Stop Streaming"]})]})},N=a.p+"static/media/food1.ffe63455.jpeg",_=a.p+"static/media/food2.f62f6622.jpeg",S=function(e){var t=e.startStream,a=e.stopStream;return Object(v.jsxs)("div",{className:"wiki-container",children:[Object(v.jsx)("div",{className:"wiki-header",children:Object(v.jsx)(C,{startStream:t,stopStream:a})}),Object(v.jsxs)("ul",{className:"b round-boarder",children:[Object(v.jsx)("div",{className:"a",children:"B"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Barbecue",target:"_blank",rel:"noreferrer",children:"BBQ"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Bibimbap",target:"_blank",rel:"noreferrer",children:"Bibimbap"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/B%C3%B6rek",target:"_blank",rel:"noreferrer",children:"Borek"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Bread",target:"_blank",rel:"noreferrer",children:"Bread"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Hamburger",target:"_blank",rel:"noreferrer",children:"Burger"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Burrito",target:"_blank",rel:"noreferrer",children:"Buritto"})})]}),Object(v.jsxs)("ul",{className:"c round-boarder",children:[Object(v.jsx)("div",{className:"a",children:"C"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Potato_chip",target:"_blank",rel:"noreferrer",children:"Chips"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Curry",target:"_blank",rel:"noreferrer",children:"Curry"})})]}),Object(v.jsxs)("ul",{className:"d round-boarder",children:[Object(v.jsx)("div",{className:"a",children:"D"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Dumpling",target:"_blank",rel:"noreferrer",children:"Dumplings"})})]}),Object(v.jsxs)("ul",{className:"f round-boarder",children:[Object(v.jsx)("div",{className:"a",children:"F"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Fried_chicken",target:"_blank",rel:"noreferrer",children:"Fried Chicken"})})]}),Object(v.jsxs)("ul",{className:"h round-boarder",children:[Object(v.jsx)("div",{className:"a",children:"H"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Hot_dog",target:"_blank",rel:"noreferrer",children:"Hot dog"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Hot_pot",target:"_blank",rel:"noreferrer",children:"Hot pot"})})]}),Object(v.jsxs)("ul",{className:"k round-boarder",children:[Object(v.jsx)("div",{className:"a",children:"K"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Kebab",target:"_blank",rel:"noreferrer",children:"Kebab"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Kimchi",target:"_blank",rel:"noreferrer",children:"Kimchi"})})]}),Object(v.jsxs)("ul",{className:"l round-boarder",children:[Object(v.jsx)("div",{className:"a",children:"L"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Laksa",target:"_blank",rel:"noreferrer",children:"Laksa"})})]}),Object(v.jsxs)("ul",{className:"p round-boarder",children:[Object(v.jsx)("div",{className:"a",children:"P"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Pasta",target:"_blank",rel:"noreferrer",children:"Pasta"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Pho",target:"_blank",rel:"noreferrer",children:"Pho"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Pita",target:"_blank",rel:"noreferrer",children:"Pita"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Pizza",target:"_blank",rel:"noreferrer",children:"Pizza"})})]}),Object(v.jsxs)("ul",{className:"r round-boarder",children:[Object(v.jsx)("div",{className:"a",children:"R & T"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Ramen",target:"_blank",rel:"noreferrer",children:"Ramen"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Taco",target:"_blank",rel:"noreferrer",children:"Taco"})})]}),Object(v.jsxs)("ul",{className:"s round-boarder",children:[Object(v.jsx)("div",{className:"a",children:"S"}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Salad",target:"_blank",rel:"noreferrer",children:"Salad"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Steak",target:"_blank",rel:"noreferrer",children:"Steak"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"https://en.wikipedia.org/wiki/Sushi",target:"_blank",rel:"noreferrer",children:"Sushi"})})]}),Object(v.jsx)("img",{src:N,className:"img2",alt:"Ingridiants"}),Object(v.jsx)("img",{src:_,className:"img1",alt:"Asian cusine"})]})},B=a(103),D=function(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],i=function(){var e=Object(b.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://172.26.128.24:5984/twitter/_design/scenario1/_view/count?group_level=1",{method:"get",headers:new Headers({Authorization:"Basic "+btoa("admin:admin")})}).then((function(e){return e.json()})).then((function(e){return n(e.rows.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.value.count})})).sort((function(e,t){return e.value<t.value?1:-1})))})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i();var e=setInterval((function(){i()}),1e5);return function(){return clearInterval(e)}}),[]),Object(v.jsx)("div",{className:"scroll",children:Object(v.jsxs)(B.a,{striped:!0,bordered:!0,hover:!0,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"a",children:"Rank"}),Object(v.jsx)("th",{className:"a",children:"Food Name"}),Object(v.jsx)("th",{className:"a",children:"Trending Index"})]})}),Object(v.jsx)("tbody",{children:a.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t+1}),Object(v.jsx)("td",{children:e.key}),Object(v.jsxs)("td",{children:[e.value," ",Object(v.jsx)(w.b,{})]})]},t)}))})]})})},A=a(10),R=function(e){Object(O.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r}return Object(f.a)(a,[{key:"componentDidUpdate",value:function(){this.myChart.data.labels=this.props.data.labels;var e,t=Object(d.a)(this.props.data.datasets.entries());try{for(t.s();!(e=t.n()).done;){var a=Object(h.a)(e.value,2),r=a[0],n=a[1];this.myChart.data.datasets[r].label=n.label,this.myChart.data.datasets[r].data=n.data,this.myChart.data.datasets[r].backgroundColor=n.backgroundColor,this.myChart.data.datasets[r].borderColor=n.borderColor,this.myChart.data.datasets[r].borderDash=n.borderDash,this.myChart.data.datasets[r].hidden=n.hidden}}catch(i){t.e(i)}finally{t.f()}this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new x.a(this.chartRef.current,{type:"line",data:this.props.data,options:{maintainAspectRatio:!1,responsive:!0,elements:{point:{radius:0}},plugins:{title:{display:!0,text:"Average food mentioned at different time in a day",fontSize:20},legend:{display:!0,position:"top"}}}})}},{key:"render",value:function(){return Object(v.jsx)("canvas",{ref:this.chartRef})}}]),a}(n.a.Component),I=(a(222),a(71)),H=a.n(I),P=a(100);var z=function(){var e=Object(r.useState)("cityData"),t=Object(h.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)({}),c=Object(h.a)(i,2),l=c[0],u=c[1],f=Object(r.useState)({}),O=Object(h.a)(f,2),p=O[0],x=O[1],k=Object(r.useState)({labels:[],datasets:[{label:"adelaide",backgroundColor:"#003f5c"},{label:"brisbane",backgroundColor:"#58508d"},{label:"melborne",backgroundColor:"#bc5090"},{label:"perth",backgroundColor:"#ff6361"},{label:"sydney",backgroundColor:"#ffa600"}]}),m=Object(h.a)(k,2),N=m[0],_=m[1],B=Object(r.useState)({labels:[],datasets:[{},{},{},{},{}]}),I=Object(h.a)(B,2),z=I[0],F=I[1],L=Object(r.useState)({labels:[],datasets:[{},{},{},{},{},{},{},{},{},{}]}),M=Object(h.a)(L,2),E=M[0],K=M[1],T=Object(r.useState)(0),U=Object(h.a)(T,2),J=U[0],W=U[1],Q=Object(r.useState)(510),q=Object(h.a)(Q,2),G=q[0],V=q[1],X=new Date("2020-01-01"),Y=new Date,Z=Object(r.useState)(X),$=Object(h.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)(Y),re=Object(h.a)(ae,2),ne=re[0],ie=re[1];Object(r.useEffect)((function(){se(),le();var e=setInterval((function(){le()}),6e4);return function(){return clearInterval(e)}}),[]),Object(r.useEffect)((function(){F({labels:de(N.labels,Object.values(p)),datasets:N.datasets.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{data:de(e.data,Object.values(p))})}))})}),[p]),Object(r.useEffect)((function(){ce();var e=setInterval((function(){ce()}),6e4);return function(){return clearInterval(e)}}),[J,G]);var ce=function(){var e=Object(b.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://172.26.128.24:5984/twitter/_design/scenario2/_view/combine?group_level=2",{method:"get",headers:new Headers({Authorization:"Basic "+btoa("admin:admin")})}).then((function(e){return e.json()})).then((function(e){var t,a={},r=new Set,n=[],i=Object(d.a)(e.rows);try{for(i.s();!(t=i.n()).done;){var c=t.value;c.key[0]+" average polar"in a?(a[c.key[0]+" average polar"].push(c.value.total_polarity/c.value.total),r.add(c.key[1])):(a[c.key[0]+" average polar"]=[],a[c.key[0]+" average polar"].push(c.value.total_polarity/c.value.total),r.add(c.key[1])),c.key[0]+" food average"in a?(a[c.key[0]+" food average"].push(c.value.food/c.value.total),r.add(c.key[1])):(a[c.key[0]+" food average"]=[],a[c.key[0]+" food average"].push(c.value.food/c.value.total),r.add(c.key[1]))}}catch(h){i.e(h)}finally{i.f()}for(var s={adelaide:"#003f5c",brisbane:"#58508d",melbourne:"#bc5090",perth:"#ff6361",sydney:"#ffa600"},l=0,o=Object.keys(a);l<o.length;l++){var b=o[l],j=[];"food"===b.split(" ")[1]&&j.push(2),n.push({label:b,data:a[b].slice(J,G),backgroundColor:s[b.split(" ")[0]],borderColor:s[b.split(" ")[0]],borderDash:j})}K({labels:Array.from(r).slice(J,G),datasets:n})})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(b.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://172.26.128.24:5984/twitter/_design/scenario1/_view/count?group_level=2",{method:"get",headers:new Headers({Authorization:"Basic "+btoa("admin:admin")})}).then((function(e){return e.json()})).then((function(e){var t,a={},r=Object(d.a)(e.rows);try{for(r.s();!(t=r.n()).done;){a[t.value.key[0]]=0}}catch(n){r.e(n)}finally{r.f()}x(a)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,fetch("http://172.26.128.24:5984/twitter/_design/scenario1/_view/total?group_level=2",{method:"get",headers:new Headers({Authorization:"Basic "+btoa("admin:admin")})}).then((function(e){return e.json()})).then((function(e){var r,n=Object(d.a)(e.rows);try{for(n.s();!(r=n.n()).done;){var i=r.value;t[i.key]=i.value.total,a[i.key]=i.value.food/i.value.total*1e4}}catch(c){n.e(c)}finally{n.f()}u(a)})).catch((function(e){return console.error(e)}));case 4:return e.next=6,fetch("http://172.26.128.24:5984/twitter/_design/scenario1/_view/count?group_level=2",{method:"get",headers:new Headers({Authorization:"Basic "+btoa("admin:admin")})}).then((function(e){return e.json()})).then((function(e){var a,r={},n={},i=Object(d.a)(e.rows);try{for(i.s();!(a=i.n()).done;){var c=a.value;n[c.key[1]]=[],r[c.key[0]]=0}}catch(m){i.e(m)}finally{i.f()}for(var s=0,l=Object.keys(n);s<l.length;s++){var o,b=l[s],j=Object(d.a)(e.rows);try{for(j.s();!(o=j.n()).done;){var h=o.value;h.key[1]===b&&(r[h.key[0]]=1e4*h.value.count/t[b])}}catch(m){j.e(m)}finally{j.f()}n[b]=Object.values(r);for(var u=0,f=Object.keys(r);u<f.length;u++){r[f[u]]=0}}for(var O=[],p={adelaide:"#003f5c",brisbane:"#58508d",melbourne:"#bc5090",perth:"#ff6361",sydney:"#ffa600"},x=0,v=Object.keys(n);x<v.length;x++){var k=v[x];O.push({label:k,data:n[k],backgroundColor:p[k]})}_({labels:Object.keys(r),datasets:O})})).catch((function(e){return console.error(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e,t){return Math.ceil(t-e)/864e5>0?Math.ceil(t-e)/864e5+1:0},de=function(e,t){var a,r=[],n=Object(d.a)(t.entries());try{for(n.s();!(a=n.n()).done;){var i=Object(h.a)(a.value,2),c=i[0];i[1]&&r.push(e[c])}}catch(s){n.e(s)}finally{n.f()}return r};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(y.a,{children:Object(v.jsxs)(A.c,{children:[Object(v.jsx)(A.a,{path:"/about",children:Object(v.jsxs)("div",{className:"grid-container",children:[Object(v.jsx)("div",{className:"grid-header",children:Object(v.jsx)(C,{})}),Object(v.jsx)("div",{className:"chart2",children:"COMP90024 CCC Assignment2"})]})}),Object(v.jsx)(A.a,{path:"/wiki",children:Object(v.jsx)(S,{})}),Object(v.jsx)(A.a,{path:"/",children:Object(v.jsxs)("div",{className:"grid-container",children:[Object(v.jsx)("div",{className:"grid-header",children:Object(v.jsx)(C,{})}),Object(v.jsxs)("div",{className:"chart1",children:[Object(v.jsx)(R,{data:E}),"Start Date:"," ",Object(v.jsx)(H.a,{value:ee,onChange:function(e){te(e),W(oe(X,e))}})," ","End Date:"," ",Object(v.jsx)(H.a,{value:ne,onChange:function(e){ie(e),V(oe(X,e)+1)}})]}),Object(v.jsxs)("div",{className:"chart2",children:[Object(v.jsxs)("div",{className:"chart",children:[Object(v.jsx)(g,{cityData:l,data:z,type:a}),Object(v.jsxs)("button",{className:"myButton",onClick:function(){return n("city")},children:[Object(v.jsx)(w.a,{})," By City"]}),Object(v.jsxs)("button",{className:"myButton",onClick:function(){return n("data")},children:[Object(v.jsx)(w.a,{})," By Cuisine"]})]}),Object(v.jsxs)("div",{className:"bar",children:[Object(v.jsx)(P.a,{placeholder:"Search dish to add",data:Object.keys(p).map((function(e){return{key:e,value:e}})),onSelect:function(e){var t;t=e.key,x((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},t,1))}))},fuseConfigs:{threshold:.05}}),Object(v.jsx)("button",{className:"myButton2",onClick:function(){x((function(e){for(var t={},a=0,r=Object.keys(e);a<r.length;a++){t[r[a]]=0}return t}))},children:"Clear"})]})]}),Object(v.jsxs)("div",{className:"leader round-boarder",children:[Object(v.jsx)("div",{className:"header",children:"Leader Board"}),Object(v.jsx)(D,{}),Object(v.jsxs)("div",{className:"header",children:["Curious what are these",Object(v.jsx)(w.f,{})," ",Object(v.jsx)("br",{}),"Head to FOOD WIKI!!!"]})]})]})})]})})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,241)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),i(e),c(e)}))};a(237);c.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(z,{})}),document.getElementById("root")),F()}},[[239,1,2]]]);
//# sourceMappingURL=main.39aa4ccf.chunk.js.map