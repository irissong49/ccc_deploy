(this["webpackJsonpmy-dashboard"]=this["webpackJsonpmy-dashboard"]||[]).push([[0],{111:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(51),c=a.n(s),i=(a(111),a(15)),o=a(19),l=a.n(o),d=a(6),b=a(31),h=a(14),u=a(11),j=a(9),f=a(4),p=a(5),O=a(8),m=a(7),y=a(26),x=a(2),v=function(e){Object(O.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(f.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(){this.myChart.data.labels=this.props.label,this.myChart.data.datasets[3].data=this.props.value,this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new y.a(this.chartRef.current,{data:{labels:this.props.label,datasets:[{type:"line",label:"Diabetes per 10k population",backgroundColor:"#003f5c",yAxisID:"B",data:[12.91,15.4,6.42,20.29,9.53]},{type:"line",label:"Obisity (%) among adults",backgroundColor:"#ff6361",yAxisID:"B",data:[20.71,18.64,19.52,18.37,16.85]},{type:"line",label:"average income (10k)",backgroundColor:"#ffa600",yAxisID:"B",data:[7.7078,7.0556,6.9864,8.2981,8.1767]},{type:"bar",label:"Average food mentioned per 10000 tweets",backgroundColor:"rgba(75,192,192,1)",yAxisID:"A",data:this.props.value}]},options:{maintainAspectRatio:!1,responsive:!0,scales:{A:{type:"linear",position:"left",title:"# tweets",gridLines:{color:"rgba(0, 0, 0, 0)"}},B:{type:"linear",position:"right",grid:{display:!1}}},plugins:{title:{display:!0,text:"Average food mentioned per 10000 tweets for each city",fontSize:20},legend:{display:!0,position:"top"}}}})}},{key:"render",value:function(){return Object(x.jsx)("canvas",{ref:this.chartRef})}}]),a}(n.a.Component),k=function(e){Object(O.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(f.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(){this.myChart.data.labels=this.props.data.labels;var e,t=Object(d.a)(this.props.data.datasets.entries());try{for(t.s();!(e=t.n()).done;){var a=Object(j.a)(e.value,2),r=a[0],n=a[1];this.myChart.data.datasets[r].label=n.label,this.myChart.data.datasets[r].data=n.data,this.myChart.data.datasets[r].backgroundColor=n.backgroundColor}}catch(s){t.e(s)}finally{t.f()}this.myChart.options.plugins.title.text=this.props.text,this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new y.a(this.chartRef.current,{type:"bar",data:this.props.data,options:{maintainAspectRatio:!1,responsive:!0,plugins:{title:{display:!0,text:this.props.text,fontSize:20},legend:{display:!0,position:"top"}}}})}},{key:"render",value:function(){return Object(x.jsx)("canvas",{ref:this.chartRef})}}]),a}(n.a.Component),g=function(e){var t=e.type,a=e.type2,r=e.cityData,n=e.data,s=e.data2;return"data"===t?0===a?Object(x.jsx)(k,{data:n,text:"Average food name mentioned per 10000 tweets in each city"}):Object(x.jsx)(k,{data:s,text:"Average food polarity in each city"}):Object(x.jsx)(v,{label:Object.keys(r),value:Object.values(r)})},w=a(27),C=a(12),N=function(){return Object(x.jsxs)("div",{className:"menu",children:[Object(x.jsx)(w.b,{to:"/home",children:Object(x.jsxs)("button",{className:"button",children:[Object(x.jsx)(C.d,{})," Home"]})}),Object(x.jsx)(w.b,{to:"/",children:Object(x.jsxs)("button",{className:"button",children:[Object(x.jsx)(C.e,{})," About"]})}),Object(x.jsx)(w.b,{to:"/wiki",children:Object(x.jsxs)("button",{className:"button",children:[Object(x.jsx)(C.i,{})," Food Wiki"]})}),Object(x.jsx)(w.b,{to:"/timeseries",children:Object(x.jsxs)("button",{className:"button",children:[Object(x.jsx)(C.b,{})," Time Chart"]})}),Object(x.jsx)(w.b,{to:"/foodchart",children:Object(x.jsxs)("button",{className:"button",children:[Object(x.jsx)(C.a,{})," Food Chart"]})})]})},D=a.p+"static/media/food1.ffe63455.jpeg",_=a.p+"static/media/food2.f62f6622.jpeg",B=function(e){var t=e.startStream,a=e.stopStream;return Object(x.jsxs)("div",{className:"wiki-container",children:[Object(x.jsx)("div",{className:"wiki-header",children:Object(x.jsx)(N,{startStream:t,stopStream:a})}),Object(x.jsxs)("ul",{className:"b round-boarder",children:[Object(x.jsx)("div",{className:"a",children:"B"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Barbecue",target:"_blank",rel:"noreferrer",children:"BBQ"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Bibimbap",target:"_blank",rel:"noreferrer",children:"Bibimbap"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/B%C3%B6rek",target:"_blank",rel:"noreferrer",children:"Borek"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Bread",target:"_blank",rel:"noreferrer",children:"Bread"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Hamburger",target:"_blank",rel:"noreferrer",children:"Burger"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Burrito",target:"_blank",rel:"noreferrer",children:"Buritto"})})]}),Object(x.jsxs)("ul",{className:"c round-boarder",children:[Object(x.jsx)("div",{className:"a",children:"C"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Potato_chip",target:"_blank",rel:"noreferrer",children:"Chips"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Curry",target:"_blank",rel:"noreferrer",children:"Curry"})})]}),Object(x.jsxs)("ul",{className:"d round-boarder",children:[Object(x.jsx)("div",{className:"a",children:"D"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Dumpling",target:"_blank",rel:"noreferrer",children:"Dumplings"})})]}),Object(x.jsxs)("ul",{className:"f round-boarder",children:[Object(x.jsx)("div",{className:"a",children:"F"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Fried_chicken",target:"_blank",rel:"noreferrer",children:"Fried Chicken"})})]}),Object(x.jsxs)("ul",{className:"h round-boarder",children:[Object(x.jsx)("div",{className:"a",children:"H"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Hot_dog",target:"_blank",rel:"noreferrer",children:"Hot dog"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Hot_pot",target:"_blank",rel:"noreferrer",children:"Hot pot"})})]}),Object(x.jsxs)("ul",{className:"k round-boarder",children:[Object(x.jsx)("div",{className:"a",children:"K"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Kebab",target:"_blank",rel:"noreferrer",children:"Kebab"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Kimchi",target:"_blank",rel:"noreferrer",children:"Kimchi"})})]}),Object(x.jsxs)("ul",{className:"l round-boarder",children:[Object(x.jsx)("div",{className:"a",children:"L"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Laksa",target:"_blank",rel:"noreferrer",children:"Laksa"})})]}),Object(x.jsxs)("ul",{className:"p round-boarder",children:[Object(x.jsx)("div",{className:"a",children:"P"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Pasta",target:"_blank",rel:"noreferrer",children:"Pasta"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Pho",target:"_blank",rel:"noreferrer",children:"Pho"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Pita",target:"_blank",rel:"noreferrer",children:"Pita"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Pizza",target:"_blank",rel:"noreferrer",children:"Pizza"})})]}),Object(x.jsxs)("ul",{className:"r round-boarder",children:[Object(x.jsx)("div",{className:"a",children:"R & T"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Ramen",target:"_blank",rel:"noreferrer",children:"Ramen"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Taco",target:"_blank",rel:"noreferrer",children:"Taco"})})]}),Object(x.jsxs)("ul",{className:"s round-boarder",children:[Object(x.jsx)("div",{className:"a",children:"S"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Salad",target:"_blank",rel:"noreferrer",children:"Salad"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Steak",target:"_blank",rel:"noreferrer",children:"Steak"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Sushi",target:"_blank",rel:"noreferrer",children:"Sushi"})})]}),Object(x.jsx)("img",{src:D,className:"img2",alt:"Ingridiants"}),Object(x.jsx)("img",{src:_,className:"img1",alt:"Asian cusine"})]})},S=a(104),A=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),a=t[0],n=t[1],s=function(){var e=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://172.26.128.24:5984/twitter/_design/scenario1/_view/count?group_level=1",{method:"get",headers:new Headers({Authorization:"Basic "+btoa("admin:admin")})}).then((function(e){return e.json()})).then((function(e){return n(e.rows.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{value:e.value.count})})).sort((function(e,t){return e.value<t.value?1:-1})))})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s();var e=setInterval((function(){s()}),1e5);return function(){return clearInterval(e)}}),[]),Object(x.jsx)("div",{className:"scroll",children:Object(x.jsxs)(S.a,{striped:!0,bordered:!0,hover:!0,children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"a",children:"Rank"}),Object(x.jsx)("th",{className:"a",children:"Food Name"}),Object(x.jsx)("th",{className:"a",children:"Trending Index"})]})}),Object(x.jsx)("tbody",{children:a.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.key}),Object(x.jsxs)("td",{children:[e.value," ",Object(x.jsx)(C.c,{})]})]},t)}))})]})})},R=a(13),P=a(72),I=function(e){Object(O.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(f.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(){this.myChart.data.labels=this.props.data.labels;var e,t=Object(d.a)(this.props.data.datasets.entries());try{for(t.s();!(e=t.n()).done;){var a=Object(j.a)(e.value,2),r=a[0],n=a[1];this.myChart.data.datasets[r].label=n.label,this.myChart.data.datasets[r].data=n.data,this.myChart.data.datasets[r].backgroundColor=n.backgroundColor,this.myChart.data.datasets[r].borderColor=n.borderColor,this.myChart.data.datasets[r].borderDash=n.borderDash,this.myChart.data.datasets[r].hidden=n.hidden,this.myChart.data.datasets[r].yAxisID=n.yAxisID}}catch(s){t.e(s)}finally{t.f()}this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new y.a(this.chartRef.current,{type:"line",data:this.props.data,options:{maintainAspectRatio:!1,responsive:!0,elements:{point:{radius:0}},scales:{A:{type:"linear",position:"left",gridLines:{color:"rgba(0, 0, 0, 0)"}},B:{type:"linear",position:"right",grid:{display:!1}}},plugins:{title:{display:!0,text:"Statistics for each city since 01/01/2020",fontSize:20},legend:{display:!0,position:"top"}}}})}},{key:"render",value:function(){return Object(x.jsx)("canvas",{ref:this.chartRef})}}]),a}(n.a.Component),F=function(e){Object(O.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(f.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(){this.myChart.data.labels=this.props.data.labels;var e,t=Object(d.a)(this.props.data.datasets.entries());try{for(t.s();!(e=t.n()).done;){var a=Object(j.a)(e.value,2),r=a[0],n=a[1];this.myChart.data.datasets[r].label=n.label,this.myChart.data.datasets[r].data=n.data,this.myChart.data.datasets[r].backgroundColor=n.backgroundColor,this.myChart.data.datasets[r].borderColor=n.borderColor,this.myChart.data.datasets[r].borderDash=n.borderDash,this.myChart.data.datasets[r].hidden=n.hidden}}catch(s){t.e(s)}finally{t.f()}this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new y.a(this.chartRef.current,{type:"line",data:this.props.data,options:{maintainAspectRatio:!1,responsive:!0,elements:{point:{radius:0}},plugins:{title:{display:!0,text:"Average food mentioned per 10000 tweets at different time each year each city",fontSize:20},legend:{display:!0,position:"top"}}}})}},{key:"render",value:function(){return Object(x.jsx)("canvas",{ref:this.chartRef})}}]),a}(n.a.Component),H=a(75),T=a.n(H);var z=function(e){var t=e.type1,a=e.dailyData,r=e.maskedPolarData,n=e.startDate,s=e.endDate,c=e.onChange1,i=e.onChange2,o=e.onClick1,l=e.onClick2;return 0===t?Object(x.jsxs)("div",{className:"chart1 round-boarder",children:[Object(x.jsx)(I,{data:r}),"Start Date: ",Object(x.jsx)(T.a,{value:n,onChange:c})," End Date: ",Object(x.jsx)(T.a,{value:s,onChange:i}),Object(x.jsxs)("button",{onClick:o,className:"myButton3",children:[Object(x.jsx)(C.b,{})," Daily"]}),Object(x.jsxs)("button",{onClick:l,className:"myButton3",children:[Object(x.jsx)(C.b,{})," Hourly"]})]}):1===t?Object(x.jsxs)("div",{className:"chart1",children:[Object(x.jsx)(F,{data:a}),Object(x.jsxs)("button",{onClick:o,className:"myButton3",children:[Object(x.jsx)(C.b,{})," Daily"]}),Object(x.jsxs)("button",{onClick:l,className:"myButton3",children:[Object(x.jsx)(C.b,{})," Hourly"]})]}):void 0},M=a.p+"static/media/about_food.f86d2a33.jpg";var E=function(){var e=Object(r.useState)("cityData"),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(0),c=Object(j.a)(s,2),o=c[0],f=c[1],p=Object(r.useState)(0),O=Object(j.a)(p,2),m=O[0],y=O[1],v=Object(r.useState)({}),k=Object(j.a)(v,2),D=k[0],_=k[1],S=Object(r.useState)({}),I=Object(j.a)(S,2),F=I[0],H=I[1],T=Object(r.useState)([]),E=Object(j.a)(T,2),L=E[0],K=E[1],W=Object(r.useState)({labels:[],datasets:[{label:"adelaide",backgroundColor:"#003f5c"},{label:"brisbane",backgroundColor:"#58508d"},{label:"melborne",backgroundColor:"#bc5090"},{label:"perth",backgroundColor:"#ff6361"},{label:"sydney",backgroundColor:"#ffa600"}]}),U=Object(j.a)(W,2),q=U[0],J=U[1],Q=Object(r.useState)({labels:[],datasets:[{label:"adelaide",backgroundColor:"#003f5c"},{label:"brisbane",backgroundColor:"#58508d"},{label:"melborne",backgroundColor:"#bc5090"},{label:"perth",backgroundColor:"#ff6361"},{label:"sydney",backgroundColor:"#ffa600"}]}),Y=Object(j.a)(Q,2),G=Y[0],V=Y[1],X=Object(r.useState)({labels:[],datasets:[{},{},{},{},{}]}),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)({labels:[],datasets:[{},{},{},{},{}]}),ae=Object(j.a)(te,2),re=ae[0],ne=ae[1],se=Object(r.useState)({labels:[],datasets:Object(u.a)(Array(20)).map((function(e){return{data:[]}}))}),ce=Object(j.a)(se,2),ie=ce[0],oe=ce[1],le=Object(r.useState)({labels:[],datasets:Object(u.a)(Array(15)).map((function(e){return{data:[]}}))}),de=Object(j.a)(le,2),be=de[0],he=de[1],ue=Object(r.useState)({labels:[],datasets:Object(u.a)(Array(20)).map((function(e){return{data:[]}}))}),je=Object(j.a)(ue,2),fe=je[0],pe=je[1],Oe=Object(r.useState)(0),me=Object(j.a)(Oe,2),ye=me[0],xe=me[1],ve=Object(r.useState)(510),ke=Object(j.a)(ve,2),ge=ke[0],we=ke[1],Ce=new Date("2020-01-01"),Ne=new Date,De=Object(r.useState)(Ce),_e=Object(j.a)(De,2),Be=_e[0],Se=_e[1],Ae=Object(r.useState)(Ne),Re=Object(j.a)(Ae,2),Pe=Re[0],Ie=Re[1],Fe=1e4,He={method:"get",headers:new Headers({Authorization:"Basic "+btoa("admin:admin")})};Object(r.useEffect)((function(){We(),Ue(),Le(),Ke();var e=setInterval((function(){Ue(),Le()}),6e4);return function(){return clearInterval(e)}}),[]),Object(r.useEffect)((function(){ee({labels:Je(q.labels,Object.values(F)),datasets:q.datasets.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{data:Je(e.data,Object.values(F))})}))}),ne({labels:Je(G.labels,Object.values(F)),datasets:G.datasets.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{data:Je(e.data,Object.values(F))})}))})}),[F]);var Te=Object(r.useState)(0),ze=Object(j.a)(Te,2),Me=ze[0],Ee=ze[1];Object(r.useEffect)((function(){var e=500;fe.labels.length>0&&(e=6e4),pe({labels:ie.labels.slice(ye,ge),datasets:ie.datasets.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{data:e.data.slice(ye,ge)})}))});var t=setTimeout((function(){Ee(Me+1)}),e);return function(){clearTimeout(t)}}),[Me]),Object(r.useEffect)((function(){0!==fe.datasets.length&&pe({labels:ie.labels.slice(ye,ge),datasets:ie.datasets.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{data:e.data.slice(ye,ge)})}))})}),[ye,ge]);var Le=function(){var e=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Promise,e.next=3,fetch("http://172.26.128.24:5984/twitter/_design/scenario2/_view/combine?group_level=2",He).then((function(e){return e.json()}));case 3:return e.t1=e.sent,e.next=6,fetch("http://172.26.128.24:5984/stats/covid",He).then((function(e){return e.json()}));case 6:return e.t2=e.sent,e.next=9,fetch("http://172.26.128.24:5984/stats/temp",He).then((function(e){return e.json()}));case 9:e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.t0.all.call(e.t0,e.t4).then((function(e){var t,a={},r=new Set,n={adelaide:"#003f5c",brisbane:"#58508d",melbourne:"#bc5090",perth:"#ff6361",sydney:"#ffa600"},s=[],c=Object(d.a)(e[0].rows);try{for(c.s();!(t=c.n()).done;){var i=t.value;i.key[0]+" average polarity"in a?(a[i.key[0]+" average polarity"].push(i.value.total_polarity/i.value.total*Fe),r.add(i.key[1])):(a[i.key[0]+" average polarity"]=[],a[i.key[0]+" average polarity"].push(i.value.total_polarity/i.value.total*Fe),r.add(i.key[1])),i.key[0]+" food average"in a?(a[i.key[0]+" food average"].push(i.value.food/i.value.total*Fe*10),r.add(i.key[1])):(a[i.key[0]+" food average"]=[],a[i.key[0]+" food average"].push(i.value.food/i.value.total*Fe*10),r.add(i.key[1]))}}catch(k){c.e(k)}finally{c.f()}for(var o=0,l=Object.keys(n);o<l.length;o++){var b=l[o];a[b+" covid cases"]=Object.values(e[1][b])}for(var h=0,u=Object.keys(n);h<u.length;h++){var j=u[h];a[j+" temperature"]=Object.values(e[2][j])}for(var f=0,p=Object.keys(a);f<p.length;f++){var O=p[f],m=[],y="A",x=!0,v=O+" per ".concat(Fe," tweets");"melbourne"===O.split(" ")[0]&&(x=!1),"food"===O.split(" ")[1]?(m.push(2),v=O+" per ".concat(1e5," tweets")):"covid"===O.split(" ")[1]?(m.push(15,3,3,3),y="B",v=O):"temperature"===O.split(" ")[1]&&(m.push(20,3,3,3,3,3,3,3),y="B",v=O,x=!0),s.push({label:v,data:a[O],backgroundColor:n[O.split(" ")[0]],borderColor:n[O.split(" ")[0]],borderDash:m,yAxisID:y,hidden:x})}oe({labels:Array.from(r),datasets:s})})).catch((function(e){return console.error(e)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://172.26.128.24:5984/twitter/_design/scenario3/_view/combine?group_level=3",He).then((function(e){return e.json()})).then((function(e){var t,a={},r=Object(d.a)(e.rows);try{for(r.s();!(t=r.n()).done;){a[t.value.key[0]]={}}}catch(k){r.e(k)}finally{r.f()}var n,s=Object(d.a)(e.rows);try{for(s.s();!(n=s.n()).done;){var c=n.value;a[c.key[0]][c.key[1]]=[]}}catch(k){s.e(k)}finally{s.f()}var i,o=Object(d.a)(e.rows);try{for(o.s();!(i=o.n()).done;){var l=i.value;a[l.key[0]][l.key[1]].push(l.value.food/l.value.total*Fe)}}catch(k){o.e(k)}finally{o.f()}for(var b=[],h={adelaide:"#003f5c",brisbane:"#58508d",melbourne:"#bc5090",perth:"#ff6361",sydney:"#ffa600"},j={2019:[],2020:[2],2021:[15,3,3,3]},f=0,p=Object.keys(a);f<p.length;f++){var O=p[f],m=!0;"melbourne"===O&&(m=!1);for(var y=0,x=Object.keys(a[O]);y<x.length;y++){var v=x[y];b.push({label:"".concat(O," ").concat(v),data:a[O][v],backgroundColor:h[O],borderColor:h[O],borderDash:j[v],hidden:m})}}he({labels:Object(u.a)(Array(23).keys()),datasets:b})})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://172.26.128.24:5984/twitter/_design/scenario1/_view/count?group_level=2",{method:"get",headers:new Headers({Authorization:"Basic "+btoa("admin:admin")})}).then((function(e){return e.json()})).then((function(e){var t,a={},r=Object(d.a)(e.rows);try{for(r.s();!(t=r.n()).done;){a[t.value.key[0]]=0}}catch(n){r.e(n)}finally{r.f()}H(a)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(b.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,fetch("http://172.26.128.24:5984/twitter/_design/scenario1/_view/total?group_level=2",{method:"get",headers:new Headers({Authorization:"Basic "+btoa("admin:admin")})}).then((function(e){return e.json()})).then((function(e){var r,n=Object(d.a)(e.rows);try{for(n.s();!(r=n.n()).done;){var s=r.value;t[s.key]=s.value.total,a[s.key]=s.value.food/s.value.total*Fe}}catch(c){n.e(c)}finally{n.f()}_(a)})).catch((function(e){return console.error(e)}));case 4:return e.next=6,fetch("http://172.26.128.24:5984/twitter/_design/scenario1/_view/count?group_level=2",{method:"get",headers:new Headers({Authorization:"Basic "+btoa("admin:admin")})}).then((function(e){return e.json()})).then((function(e){var a,r={},n={},s={},c={},i=Object(d.a)(e.rows);try{for(i.s();!(a=i.n()).done;){var o=a.value;s[o.key[1]]=[],c[o.key[1]]=[],r[o.key[0]]=0,n[o.key[0]]=0}}catch(_){i.e(_)}finally{i.f()}for(var l=0,b=Object.keys(s);l<b.length;l++){var h,u=b[l],j=Object(d.a)(e.rows);try{for(j.s();!(h=j.n()).done;){var f=h.value;f.key[1]===u&&(r[f.key[0]]=f.value.count*Fe/t[u],n[f.key[0]]=f.value.polarity/f.value.count)}}catch(_){j.e(_)}finally{j.f()}s[u]=Object.values(r),c[u]=Object.values(n);for(var p=0,O=Object.keys(r);p<O.length;p++){var m=O[p];r[m]=0,n[m]=0}}for(var y=[],x=[],v={adelaide:"#003f5c",brisbane:"#58508d",melbourne:"#bc5090",perth:"#ff6361",sydney:"#ffa600"},k=0,g=Object.keys(s);k<g.length;k++){var w=g[k];y.push({label:w,data:s[w],backgroundColor:v[w]})}for(var C=0,N=Object.keys(c);C<N.length;C++){var D=N[C];x.push({label:D,data:c[D],backgroundColor:v[D]})}J({labels:Object.keys(r),datasets:y}),V({labels:Object.keys(n),datasets:x})})).catch((function(e){return console.error(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(e,t){return Math.ceil(t-e)/864e5>0?Math.ceil(t-e)/864e5+1:0},Je=function(e,t){var a,r=[],n=Object(d.a)(t.entries());try{for(n.s();!(a=n.n()).done;){var s=Object(j.a)(a.value,2),c=s[0];s[1]&&r.push(e[c])}}catch(i){n.e(i)}finally{n.f()}return r},Qe=function(e){H((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(i.a)({},e,1))})),L.includes(e)||K((function(t){return[].concat(Object(u.a)(t),[e])}))},Ye=function(e){H((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(i.a)({},e,0))})),K((function(t){return t.filter((function(t){return t!==e}))}))},Ge=function(){H((function(e){for(var t={},a=0,r=Object.keys(e);a<r.length;a++){t[r[a]]=0}return t})),K([])};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(w.a,{children:Object(x.jsxs)(R.c,{children:[Object(x.jsx)(R.a,{path:"/wiki",children:Object(x.jsx)(B,{})}),Object(x.jsx)(R.a,{path:"/foodchart",children:Object(x.jsxs)("div",{className:"grid-container3",children:[Object(x.jsx)(N,{}),Object(x.jsxs)("div",{className:"chart2",children:[Object(x.jsxs)("div",{className:"chart",children:[Object(x.jsx)(g,{cityData:D,data:$,data2:re,type:a,type2:m}),Object(x.jsxs)("button",{className:"myButton",onClick:function(){return n("city")},children:[Object(x.jsx)(C.a,{})," By City"]}),Object(x.jsxs)("button",{className:"myButton",onClick:function(){return n("data")},children:[Object(x.jsx)(C.a,{})," By Cuisine"]}),Object(x.jsxs)("button",{className:"myButton",onClick:function(){return y((function(e){return Math.abs(e-1)}))},children:[Object(x.jsx)(C.h,{})," ",m?"Count":"Polarity"]})]}),Object(x.jsxs)("div",{className:"bar",children:[Object(x.jsx)(P.a,{placeholder:"Search dish to add",data:Object.keys(F).map((function(e){return{key:e,value:e}})),onSelect:function(e){Qe(e.key)},fuseConfigs:{threshold:.05}}),Object(x.jsx)("button",{className:"myButton2",onClick:Ge,children:"Clear"}),L.map((function(e,t){return Object(x.jsxs)("pre",{children:[e.padEnd(13),Object(x.jsx)(C.g,{style:{color:"red",cursor:"pointer"},onClick:function(){return Ye(e)}})]},t)}))]})]})]})}),Object(x.jsx)(R.a,{path:"/timeseries",children:Object(x.jsxs)("div",{className:"grid-container2",children:[Object(x.jsx)(N,{}),Object(x.jsx)(z,{type1:o,dailyData:be,maskedPolarData:fe,startDate:Be,endDate:Pe,onChange1:function(e){Se(e),xe(qe(Ce,e))},onChange2:function(e){Ie(e),we(qe(Ce,e)+1)},onClick1:function(){f(0)},onClick2:function(){f(1)}})]})}),Object(x.jsx)(R.a,{path:"/home",children:Object(x.jsxs)("div",{className:"grid-container",children:[Object(x.jsx)("div",{className:"grid-header",children:Object(x.jsx)(N,{})}),Object(x.jsx)(z,{type1:o,dailyData:be,maskedPolarData:fe,startDate:Be,endDate:Pe,onChange1:function(e){Se(e),xe(qe(Ce,e))},onChange2:function(e){Ie(e),we(qe(Ce,e)+1)},onClick1:function(){f(0)},onClick2:function(){f(1)}}),Object(x.jsxs)("div",{className:"chart2",children:[Object(x.jsxs)("div",{className:"chart",children:[Object(x.jsx)(g,{cityData:D,data:$,data2:re,type:a,type2:m}),Object(x.jsxs)("button",{className:"myButton",onClick:function(){return n("city")},children:[Object(x.jsx)(C.a,{})," By City"]}),Object(x.jsxs)("button",{className:"myButton",onClick:function(){return n("data")},children:[Object(x.jsx)(C.a,{})," By Cuisine"]}),Object(x.jsxs)("button",{className:"myButton",onClick:function(){return y((function(e){return Math.abs(e-1)}))},children:[Object(x.jsx)(C.h,{})," ",m?"Count":"Polarity"]})]}),Object(x.jsxs)("div",{className:"bar",children:[Object(x.jsx)(P.a,{placeholder:"Search dish to add",data:Object.keys(F).map((function(e){return{key:e,value:e}})),onSelect:function(e){Qe(e.key)},fuseConfigs:{threshold:.05}}),Object(x.jsx)("button",{className:"myButton2",onClick:Ge,children:"Clear"}),L.map((function(e,t){return Object(x.jsxs)("pre",{children:[e.padEnd(13),Object(x.jsx)(C.g,{style:{color:"red",cursor:"pointer"},onClick:function(){return Ye(e)}})]},t)}))]})]}),Object(x.jsxs)("div",{className:"leader round-boarder",children:[Object(x.jsx)("div",{className:"header",children:"Leader Board"}),Object(x.jsx)(A,{}),Object(x.jsxs)("div",{className:"header",children:["Curious what are these",Object(x.jsx)(C.f,{})," ",Object(x.jsx)("br",{}),"Head to FOOD WIKI!!!"]})]})]})}),Object(x.jsx)(R.a,{path:"/",children:Object(x.jsxs)("div",{className:"grid-container",children:[Object(x.jsx)("div",{className:"grid-header",children:Object(x.jsx)(N,{})}),Object(x.jsxs)("div",{className:"chart1",children:[Object(x.jsx)("div",{className:"header",children:"Welcome to COMP90024 \u2018Australia and Food\u2019 project webpage!"}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"text",children:"Being an immigration country with a multicultural environment, Australia welcomes people and cultures from all over the world. For every culture, there is a unique food cuisine of their own, which to some extent represents the culture itself. Therefore, food seems to be like a symbol representing Australia\u2019s diversity and we choose to study how different food are related to Australian people\u2019s daily life."}),Object(x.jsx)("p",{className:"text",children:"We attempts to find a large quantity of tweets relating to food in Australia. This webpage provides comprehensive data visualisation of these tweets and illustrates how Australia people\u2019s lifestyle and food preference pattern are closely related."}),Object(x.jsx)("p",{className:"text",children:"The food chart presents how often people mention foods on Twitter and what\u2019s people\u2019s average emotion/sentiment towards each type of food on the aggregate level. The time chart demonstrades how people\u2019s love to food changes dynamically over time (each day and each hour in a day). You can choose to click on the labels to decide which combinations of lines/bars you want to see. We also constructed a leader board to rank the favourite food for Australians."}),Object(x.jsx)("p",{className:"text",children:"On the background, the data are continously updating and this webpage is refreshed every minute. Feel free to play with the charts, try different combinations and search for the food you are interested in!"}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"end",children:"\u2014\u2014\u2014 Cluster and Cloud Computing Team 23"})]}),Object(x.jsx)("img",{src:M,className:"leader",alt:"Multicutural food"})]})})]})})})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,241)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};a(237);c.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(E,{})}),document.getElementById("root")),L()}},[[239,1,2]]]);
//# sourceMappingURL=main.a5134884.chunk.js.map